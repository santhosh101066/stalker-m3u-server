var y=Object.defineProperty;var p=i=>{throw TypeError(i)};var w=(i,s,t)=>s in i?y(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var c=(i,s,t)=>w(i,typeof s!="symbol"?s+"":s,t),h=(i,s,t)=>s.has(i)||p("Cannot "+t);var e=(i,s,t)=>(h(i,s,"read from private field"),t?t.call(i):s.get(i)),u=(i,s,t)=>s.has(i)?p("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,t),g=(i,s,t,a)=>(h(i,s,"write to private field"),a?a.call(i,t):s.set(i,t),t),l=(i,s,t)=>(h(i,s,"access private method"),t);import{n as M,l as f,e as A,c as P,w as S,x as E,b as O}from"./index-nv6x9H9a.js";var r,o,b,m;class x{constructor(s){u(this,o);u(this,r);c(this,"src",M(""));c(this,"referrerPolicy",null);g(this,r,s),s.setAttribute("frameBorder","0"),s.setAttribute("aria-hidden","true"),s.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),this.referrerPolicy!==null&&s.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return e(this,r)}setup(){f(window,"message",l(this,o,m).bind(this)),f(e(this,r),"load",this.onLoad.bind(this)),A(l(this,o,b).bind(this))}postMessage(s,t){var a;E||(a=e(this,r).contentWindow)==null||a.postMessage(JSON.stringify(s),t!=null?t:"*")}}r=new WeakMap,o=new WeakSet,b=function(){const s=this.src();if(!s.length){e(this,r).setAttribute("src","");return}const t=P(()=>this.buildParams());e(this,r).setAttribute("src",S(s,t))},m=function(s){var d;const t=this.getOrigin();if((s.source===null||s.source===((d=e(this,r))==null?void 0:d.contentWindow))&&(!O(t)||t===s.origin)){try{const n=JSON.parse(s.data);n&&this.onMessage(n,s);return}catch(n){}s.data&&this.onMessage(s.data,s)}};export{x as E};
