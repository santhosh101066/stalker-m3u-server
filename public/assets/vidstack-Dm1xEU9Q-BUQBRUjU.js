var p=(e,s,t)=>new Promise((u,r)=>{var a=n=>{try{o(t.next(n))}catch(i){r(i)}},f=n=>{try{o(t.throw(n))}catch(i){r(i)}},o=n=>n.done?u(n.value):Promise.resolve(n.value).then(a,f);o((t=t.apply(e,s)).next())});const l=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)(?:\/shorts)?\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,h=new Map,c=new Map;function m(e){var s;return(s=e.match(l))==null?void 0:s[1]}function w(e,s){return p(this,null,function*(){if(h.has(e))return h.get(e);if(c.has(e))return c.get(e);const t=new Promise(u=>p(null,null,function*(){const r=["maxresdefault","sddefault","hqdefault"];for(const a of r)for(const f of[!0,!1]){const o=b(e,a,f);if((yield fetch(o,{mode:"no-cors",signal:s.signal})).status<400){h.set(e,o),u(o);return}}})).catch(()=>"").finally(()=>c.delete(e));return c.set(e,t),t})}function b(e,s,t){return`https://i.ytimg.com/${t?"vi_webp":"vi"}/${e}/${s}.${t?"webp":"jpg"}`}export{w as findYouTubePoster,m as resolveYouTubeVideoId};
